<!DOCTYPE html>
<html>
    <head>
        <title>TOGI - Image Boards</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
        <link rel="stylesheet" href="Styles/stylesheet.css">
        <link rel="stylesheet" href="Styles/board.css">
    </head>
    <body>
        <!--this is the banner on the top of the page-->
        <div class="header" id="myHeader">
            <h2 class="boardName">Board Name</h2>
            <a href="index.html">
                <div class = "logo"></div>
            </a>
            <button type="button" class="newPost" id="buttonPost">Create Post</button>
            <form action="submit" style="display:none" method="post" id="postBox">
                Image URL: <input type="text" name="image">
                <fieldset>
                    <legend>Title</legend>
                    <textarea rows="5" cols="50" name="title"
                              placeholder="Enter your title here..."></textarea>
                </fieldset>
                <input type="submit" value="Create Post">
            </form>
        </div>
        
        <!--this is the different threads--> 
        <a href="post.html">
            <table id="tdata"><tbody>
                <tr>
                    <div class="content">
                        <div class="imgdiv"></div>
                        <div class="title">
                            sample comment sample comment sample comment sample comment sample comment sample comment sample comment sample comment sample comment sample comment sample comment sample commentsample comment sample comment sample comment sample comment sample comment sample comment sample comment 
                        </div>
                    </div>
                </tr>
                </tbody></table>
        </a>
        
        <script>
            window.onscroll = function () {
                myFunction();
            };
            document.getElementById("buttonPost").onclick = function () {
                hideCommentBox()
            };
            function hideCommentBox() {
                var x = document.getElementById("postBox");
                if (x.style.display === "none") {
                    x.style.display = "block";
                } else {
                    x.style.display = "none";
                }
            }

            var header = document.getElementById("myHeader");
            var sticky = header.offsetTop;

            function myFunction() {
                if (window.pageYOffset > sticky) {
                    header.classList.add("sticky");
                } else {
                    header.classList.remove("sticky");
                }
            }
        </script>
        
        <!--this is the script to actually show the threads on the site :)-->
        <script>

              /*  <tr>
                    <div class="content">
                        <div class="imgdiv"></div>
                        <div class="title">
                            sample comment sample comment sample comment sample comment sample comment sample comment sample comment sample comment sample comment sample comment sample comment sample commentsample comment sample comment sample comment sample comment sample comment sample comment sample comment 
                        </div>
                    </div>
                </tr>*/
            $.ajax({
                url: 'boardservlet',
                type: 'post',
                dataType: 'text',
                success: function (resp){

                    const boards = $.trim(resp).split("-");
                    const table = $("#tdata tbody");

                    for(var i = 0; i < boards.length; i++){
                        table.append("<tr><td><div class = 'content'>" + 
                                            "<div cass = 'imgdiv'></div>" +
                                            "<div class = 'title'>" + 
                                                boards[i].split("-")[0] + 
                                            "</div>" + 
                                        "</div></td></tr>");
                        console.log(boards);
                    }

                },
                error: function(){
                    alert('Something has gone wrong');
                }
            });

        </script>
    </body>
</html>
